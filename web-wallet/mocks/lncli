#!/bin/bash

handle_decodepay() {
    cat <<EOF
{
    "currency" : "tb",
    "timestamp" : 1519138910,
    "created_at" : 1519138910,
    "expiry" : 3600,
    "payee" : "021fa38fe355fb1528ae976ddd940cdf899f9cdfb16719602a2b7d13dbb12c60d7",
    "msatoshi" : 50000000,
    "description" : "Yummy",
    "min_final_cltv_expiry" : 6,
    "payment_hash" : "a3fe33c774c2c9e98fd5a8fbcdebc8eeb6adbeb7d9e2ae8314aeee39f7fa004a",
    "signature" : "30440220442717ac6d85507239a3e3b5c13c8962bdf5c9f7bc7498dc7e6448a152496c8f02205940db5c36c315edcca85198a6811b1013e965e10a959ebd10bea4fa2d04ce6a"
}
EOF
}

handle_pay() {
    cat <<EOF
{
    "preimage" : "5dc58524fb29117fec5b01db18bb3710ed989b5546788c831f250a8249a9a900",
    "tries" : 1
}
EOF
}

COMMAND="$1"

case "$COMMAND" in
    pay|decodepay)
        shift 1
        handle_$COMMAND "$@"
        ;;
    *)
        echo 'Unknown command (Use: pay, decodepay)'
        ;;
esac
